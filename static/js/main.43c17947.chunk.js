(this.webpackJsonpaniwatch=this.webpackJsonpaniwatch||[]).push([[0],{126:function(e,t,n){},128:function(e,t,n){},133:function(e,t){},135:function(e,t){},145:function(e,t){},147:function(e,t){},174:function(e,t){},175:function(e,t){},180:function(e,t){},182:function(e,t){},189:function(e,t){},208:function(e,t){},247:function(e,t,n){"use strict";n.r(t);var c=n(13),r=n.n(c),a=n(120),o=n.n(a),i=(n(126),n(14)),s=n.n(i),u=n(32),l=n(65),d=n.p+"static/media/logo.6ce24c58.svg",p=(n(128),n(249)),h="U2FsdGVkX1/RPPBUzns7VzAVnbzsOZXr8Y7JLLVbNEZ1MaeDWaLfkPQWQUF9E3O+3Bxu9NADtT4YMm3fYThw5g==",f="U2FsdGVkX18luhw/YIfjgSz+eRTzeUlegqwdQudsqkmyhQt9n6f0apnpv9VENpD/BG6CGLBsqV//xr2KKEGZLzArOMaUwgKZONMqk1siN5lnI6lRT8jZL5Vi0s01WiFq",g=n(64),j=n.n(g),b=n(121),_=n.n(b);function O(e){return j.a.decrypt(e,"dKsABJ9qVfHPR3").toString(_.a.enc.Utf8)}function m(e,t,n){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(s.a.mark((function e(t,n,c){var r,a,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(r=(r=(r=(r=(r=(r="https://myanimelist.net/v1/oauth2/token?").concat("client_id=".concat(O(c.client_id)))).concat("client_secret=".concat(t))).concat("grant_type=authorization_code")).concat("code=".concat(n))).concat("redirect_uri=".concat(c.redirect_uri))).concat("code_verifier=".concat(c.code_challenge)),a={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}},e.next=10,fetch(r,a);case 10:return o=e.sent,e.next=13,o.text();case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return w.apply(this,arguments)}function w(){return(w=Object(u.a)(s.a.mark((function e(t){var n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(n=(n=(n="https://myanimelist.net/v1/oauth2/authorize?").concat("response_type=".concat(t.response_type))).concat("&client_id=".concat(t.client_id))).concat("&code_challenge=".concat(t.code_challenge)),t.state&&(n=n.concat("&state=".concat(t.state))),t.redirect_uri&&t.redirect_uri.length>0&&(n=n.concat("&redirect_uri=".concat(t.redirect_uri))),t.code_challenge_method&&(n=n.concat("&code_challenge_method=".concat(t.code_challenge_method))),c={method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}},e.next=10,fetch(n,c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){for(var e="";e.length<43;)e=(e+=Object(p.a)()).replaceAll("-","");return e}var k=n(8);var A=function(){var e=Object(c.useState)({response_type:"code",client_id:O(h),redirect_uri:"https://minatore0712.github.io/AniWatch/",code_challenge:y(),code_challenge_method:"plain"}),t=Object(l.a)(e,1)[0],n=Object(c.useState)(""),r=Object(l.a)(n,2),a=r[0],o=r[1],i=window.location.search,p=new URLSearchParams(i).get("code");return Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return");case 2:if(p){e.next=7;break}return console.log("authentication code not set"),e.next=6,v(t);case 6:return e.abrupt("return");case 7:return e.next=9,m(O(f),p,t);case 9:n=e.sent,o(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),Object(k.jsxs)("div",{className:"App",children:[Object(k.jsxs)("header",{className:"App-header",children:[Object(k.jsx)("img",{src:d,className:"App-logo",alt:"logo"}),Object(k.jsxs)("p",{children:["Edit ",Object(k.jsx)("code",{children:"src/App.tsx"})," and save to reload."]}),Object(k.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"Learn React"})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("p",{children:["Config is: ",JSON.stringify(t)]}),Object(k.jsxs)("p",{children:["Token is: ",a]})]})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,250)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(A,{})}),document.getElementById("root")),T()}},[[247,1,2]]]);
//# sourceMappingURL=main.43c17947.chunk.js.map